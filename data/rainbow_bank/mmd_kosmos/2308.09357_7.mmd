**Table 4: Ablation study on the Synthetic set** 

<table>
<thead>
<tr>
<th style="text-align: center;">Model</th>
<th colspan="3" style="text-align: center;">Difficult</th>
<th colspan="3" style="text-align: center;">Normal</th>
<th colspan="3" style="text-align: center;">Easy</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><span>2-10</span></td>
<td style="text-align: center;">IoU</td>
<td style="text-align: center;">MCC</td>
<td style="text-align: center;">NMM</td>
<td style="text-align: center;">IoU</td>
<td style="text-align: center;">MCC</td>
<td style="text-align: center;">NMM</td>
<td style="text-align: center;">IoU</td>
<td style="text-align: center;">MCC</td>
<td style="text-align: center;">NMM</td>
</tr>
<tr>
<td style="text-align: center;">TAF-separate</td>
<td style="text-align: center;">0.6239</td>
<td style="text-align: center;">0.7167</td>
<td style="text-align: center;">0.2963</td>
<td style="text-align: center;">0.8738</td>
<td style="text-align: center;">0.9143</td>
<td style="text-align: center;">0.7744</td>
<td style="text-align: center;">0.9490</td>
<td style="text-align: center;">0.9604</td>
<td style="text-align: center;">0.9164</td>
</tr>
<tr>
<td style="text-align: center;">MSTAF-separate</td>
<td style="text-align: center;">0.7712</td>
<td style="text-align: center;">0.8432</td>
<td style="text-align: center;">0.5670</td>
<td style="text-align: center;">0.9210</td>
<td style="text-align: center;">0.9486</td>
<td style="text-align: center;">0.8583</td>
<td style="text-align: center;">0.9693</td>
<td style="text-align: center;">0.9764</td>
<td style="text-align: center;">0.9488</td>
</tr>
<tr>
<td style="text-align: center;">TAF</td>
<td style="text-align: center;">0.8001</td>
<td style="text-align: center;">0.8586</td>
<td style="text-align: center;">0.6312</td>
<td style="text-align: center;">0.9379</td>
<td style="text-align: center;">0.9605</td>
<td style="text-align: center;">0.8937</td>
<td style="text-align: center;">0.9753</td>
<td style="text-align: center;">0.9811</td>
<td style="text-align: center;">0.9617</td>
</tr>
<tr>
<td style="text-align: center;">MSTAF</td>
<td style="text-align: center;">**0.8394**</td>
<td style="text-align: center;">**0.8918**</td>
<td style="text-align: center;">**0.7064**</td>
<td style="text-align: center;">**0.9510**</td>
<td style="text-align: center;">**0.9700**</td>
<td style="text-align: center;">**0.9151**</td>
<td style="text-align: center;">**0.9788**</td>
<td style="text-align: center;">**0.9838**</td>
<td style="text-align: center;">**0.9646**</td>
</tr>
</tbody>
</table>


**Table 5: Ablation study on the Scale set** 

<table>
<thead>
<tr>
<th style="text-align: center;">Model</th>
<th colspan="3" style="text-align: center;">Difficult</th>
<th colspan="3" style="text-align: center;">Normal</th>
<th colspan="3" style="text-align: center;">Easy</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><span>2-10</span></td>
<td style="text-align: center;">IoU</td>
<td style="text-align: center;">MCC</td>
<td style="text-align: center;">NMM</td>
<td style="text-align: center;">IoU</td>
<td style="text-align: center;">MCC</td>
<td style="text-align: center;">NMM</td>
<td style="text-align: center;">IoU</td>
<td style="text-align: center;">MCC</td>
<td style="text-align: center;">NMM</td>
</tr>
<tr>
<td style="text-align: center;">TAF</td>
<td style="text-align: center;">0.7009</td>
<td style="text-align: center;">0.7644</td>
<td style="text-align: center;">0.4400</td>
<td style="text-align: center;">0.8789</td>
<td style="text-align: center;">0.9160</td>
<td style="text-align: center;">0.7807</td>
<td style="text-align: center;">0.9704</td>
<td style="text-align: center;">0.9769</td>
<td style="text-align: center;">0.9550</td>
</tr>
<tr>
<td style="text-align: center;">MSTAF</td>
<td style="text-align: center;">**0.7427**</td>
<td style="text-align: center;">**0.8022**</td>
<td style="text-align: center;">**0.5206**</td>
<td style="text-align: center;">**0.9105**</td>
<td style="text-align: center;">**0.9410**</td>
<td style="text-align: center;">**0.8406**</td>
<td style="text-align: center;">**0.9752**</td>
<td style="text-align: center;">**0.9808**</td>
<td style="text-align: center;">**0.9602**</td>
</tr>
</tbody>
</table>


**Figure 8: Visualization of attention maps. The blue point** **represents the token we selected to present attention maps.** **Stage i_j represents attention maps from the j Target-Aware** **Attention modules in stage i.** 

We design a unified pipeline implemented by Target-Aware Attention Framework (TAF), which is different from the separate pipeline used by existing methods. In order to evaluate the effectiveness of the unified pipeline, we built a separate pipeline model for comparison. The TAF-separate model adopts the same architecture as TAF. It implements self-attention for both two heads of all Target-Aware Attention modules in the front, while the last Target-Aware Attention module only implements cross-attention for both two heads. We use the Synthetic dataset to conduct ablation study, the results are shown in Table 4. By comparing the TAF-separate model and the TAF model, we can see that the TAF with unified pipeline performs better than the separate pipeline. After introducing the multi-scale projection mechanism to achieve multi-scale attention, the MSTAF-separate and MSTAF models both showed improvements in localization performance. The MSTAF 

with unified pipeline design and multi-scale attention mechanism presents the best localization performance on all three subsets. 

In [ 16 ], they use the Scale set to analyze the modelâ€™s robustness against scale transformation. To further verify the effectiveness of the multi-scale attention mechanism. We also use Scale set to evaluate our models and the result as shown in Tab 5. In the Scale set, the spliced region is only processed with scale transformation of different degrees for ablation in [ 16 ]. It contains 9000 testing pairs and is equally divided into Difficult, Normal, Easy subsets. In the Difficult subset and Normal subset, there are more samples with larger scale degrees. On the contrary, in the Easy subset, the size of the spliced region between the two images tends to be more consistent. We can see that with the help of multi-scale attention mechanism, MSTAF achieves much better localization performance than TAF on the Normal and difficult subset. It demonstrates that MSTAF has an advantage in dealing with various scale transformation samples. After introducing the multi-scale attention mechanism, MSTAF is more robust against scale transformation. The visual comparison can refer to Fig. 6 and Fig. 7. 

## CONCLUSION 

In this work, we propose a Multi-scale Target-Aware Framework to simplify the pipeline of existing methods. It adopts self-attention for feature extraction and cross-attention for correlation matching simultaneously. This unified design enables feature extraction and correlation matching to mutually promote each other, thereby enhancing the matching performance of the model. We further design a multi-scale attention mechanism to model the matching between image patches of different scales, which further improves the robustness against scale transformation. Experiment results demonstrate that our model is robust against scaling and outperforms state-of-the-art methods. 

This work was supported in part by the Natural Science Foundation of China under Grant 62001304; in part by the Guangdong Basic and Applied Basic Research Foundation under Grant 2022A1515010645; in part by the Foundation for Science and Technology Innovation of Shenzhen under Grant RCBS20210609103708014 and the Key 