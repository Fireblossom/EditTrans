FIG. 3. _ Electron-nuclear double resonance._  a) The nuclear-spin frequencies \(A_{i}\) are shifted by the hyperfine interaction with the electron spin \(\Delta_{i}\) (blue dotted line). Performing double resonance between the nuclear spin and the electron (mint green) retains this interaction while decoupling from quasi-static noise. b) Pulse sequence for measuring \(\Delta_{1}\) for a spin at \(\approx A_{1}\). The nuclear spin undergoes a spin echo, while the electron population is transferred from the \(\ket{-1}\)to the \(\ket{+1}\)state (shaded green). c) Zoom-in of spectroscopy data as in Fig. 2d, showing a broad resonance (63 Hz FWHM), limited by the nuclear \(T_{2}^{\star}\)-time. d) Time domain signal of \(\Delta_{1}=14549.91(5)\)Hz (undersampled), with a coherence time of \(0.36(2)\)s, fitted by a sinusoid with Gaussian decay. e) Power spectral density of (d), showing a line width that is \(\sim 75\)times improved. 

interaction in electron-nuclear spin systems. 

The observed coherence time \(T_{2}=0.36(2)\)s is slightly shorter than the bare nuclear spin-echo time \(T_{2,\mathrm{SE}}=0.62(5)\)s. This reduction is caused by a perturbitive component of the hyperfine tensor in combination with the finite magnetic field strength (see Supplementary Section V D). Flipping the electron spin between \(m_{s}=\pm 1\)changes the quantization axes of the nuclear spins, which causes a change of the nuclear-nuclear interactions [ **?**  ], which is not decoupled by the spin-echo sequence (see Extended Data Fig. E4). The effect is strongest for spins near the NV center. For larger fields or for spins with weak hyperfine couplings, we expect that further resolution enhancement is possible by applying multiple refocusing pulses (see Supplementary Section V D). 

Finally, we combine spin-chain sensing and electronnuclear double resonance to correlate high-resolution spin frequencies ( \(\Delta_{i}\)) with specific spin-spin couplings ( \(C_{ij}\)), even when a chain contains multiple spins with overlapping frequencies. We illustrate this scheme on a chain of spins, where two spins (2 and 3) have a similar frequency \(A_{23}\) and both couple to \(A_{1}\) and \(A_{4}\) (Fig. 4a). The goal is to extract \(\Delta_{2},\Delta_{3}\) and the couplings to Spin 4 ( \(C_{24},C_{34}\)). As a reference, standard double-resonance shows a quickly decaying time-domain signal, indicating couplings to multiple spins that are spectrally unresolved (Fig. 4b). 

Figure 4c shows how the electron-nuclear double resonance sequence (mint green) is inserted in the spinchain sequence to perform high-resolution spectroscopy of the \(A_{23}\) frequency region. Sweeping the interaction time \(t_{1}\) shows multiple frequencies (Fig. 4d), hinting at the existence of multiple spins with approximately \(A_{23}\). The result is consistent with two spins at frequencies \(\Delta_{2}=8019.5(2)\)Hz and \(\Delta_{3}=7695.2(1)\)Hz, split by an internal coupling of \(C_{23}=7.6(1)\)Hz (Fig.  4a and Extended Data Fig. E2e,f). 

Next, we add a nuclear-nuclear block (pink) and sweep both electron-nuclear ( \(t_{1}\)) and nuclear-nuclear ( \(t_{2}\)) double-resonance times to correlate \(\Delta_{2}\)and \(\Delta_{3}\) with nuclear-nuclear couplings \(C_{24}\) and \(C_{34}\). The 2D power spectral density (PSD) shows signals in two distinct frequency regions along the \(f_{1}\)-axis, corresponding to \(\Delta_{2}\)and \(\Delta_{3}\). Analysing the nuclear-nuclear ( \(f_{2}\)) signal at these frequencies (Fig. 4f), we find \(C_{24}=-11.8(2)\)Hz and \(C_{34}=-0.2(5)\)Hz. We attribute the splitting to the coupling \(C_{23}\) between Spins 2 and 3 (Methods, Extended Data Fig.  E2g,h).  Varying \(\mathrm{RF}_{4}\) enables the measurement of the interactions of spins 2 and 3 to other parts of the network (for example to determine \(C_{12},C_{13}\)). Beyond the examples shown here, the electron-nuclear block can be inserted at specific positions in the spin-chain sequence (Fig. 2c) to extract \(\Delta_{i}\) of all spins in the chain (Supplementary Fig. S5). 

### Reconstruction of a 50 spin network 

Finally, we apply these methods to map a 50-spin network. The problem resembles a graph search (Methods) [ **?**  ]. By identifying a number of spin chains in the system, and fusing them together based on overlapping sections, we reconstruct the connectivity (Fig. 5). Limited sized chains are sufficient because the couplings are 